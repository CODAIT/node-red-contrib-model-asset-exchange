{"swagger": "2.0", "basePath": "/", "paths": {"/model/labels": {"get": {"responses": {"200": {"description": "Success", "schema": {"$ref": "#/definitions/LabelsResponse"}}}, "summary": "Return the list of labels that can be predicted by the model", "operationId": "get_labels", "tags": ["model"]}}, "/model/metadata": {"get": {"responses": {"200": {"description": "Success", "schema": {"$ref": "#/definitions/ModelMetadata"}}}, "summary": "Return the metadata associated with the model", "operationId": "get_model_metadata_api", "tags": ["model"]}}, "/model/predict": {"post": {"responses": {"200": {"description": "Success", "schema": {"$ref": "#/definitions/ModelPredictResponse"}}}, "summary": "Make a prediction given input data", "operationId": "predict", "parameters": [{"name": "image", "in": "formData", "type": "file", "required": true, "description": "An image file (encoded as JPEG, PNG or TIFF)"}], "consumes": ["multipart/form-data"], "tags": ["model"]}}}, "info": {"title": "MAX Facial Emotion Classifier", "version": "1.0.0", "description": "Detect faces in an image and predict the emotional state of each person"}, "produces": ["application/json"], "consumes": ["application/json"], "tags": [{"name": "model", "description": "Model information and inference operations"}], "definitions": {"ModelMetadata": {"required": ["description", "id", "name", "source", "type"], "properties": {"id": {"type": "string", "description": "Model identifier"}, "name": {"type": "string", "description": "Model name"}, "description": {"type": "string", "description": "Model description"}, "type": {"type": "string", "description": "Model type"}, "source": {"type": "string", "description": "Model source"}, "license": {"type": "string", "description": "Model license"}}, "type": "object"}, "LabelsResponse": {"required": ["count"], "properties": {"count": {"type": "integer", "description": "Number of labels returned"}, "labels": {"type": "array", "description": "List of labels that can be predicted by the model", "items": {"$ref": "#/definitions/ModelLabel"}}}, "type": "object"}, "ModelLabel": {"required": ["id", "name"], "properties": {"id": {"type": "string", "description": "Label identifier"}, "name": {"type": "string", "description": "Label"}}, "type": "object"}, "ModelPredictResponse": {"required": ["status"], "properties": {"status": {"type": "string", "description": "Response status message", "example": "ok"}, "predictions": {"type": "array", "description": "Predicted bounding boxes, emotion labels and probabilities for each detected face in input image", "items": {"$ref": "#/definitions/LabelPrediction"}}}, "type": "object"}, "LabelPrediction": {"properties": {"detection_box": {"type": "array", "description": "Bounding box coordinates for the face, in the form of an array of normalized coordinates [ymin, xmin, ymax, xmax]. Each coordinate is in the range [0, 1]", "example": [0.15, 0.38, 0.53, 0.58], "items": {"type": "number"}}, "emotion_predictions": {"type": "array", "description": "Predicted emotion labels and probabilities for the face", "example": [{"label_id": "1", "label": "happiness", "probability": 0.9860254526138306}, {"label_id": "0", "label": "neutral", "probability": 0.011981048621237278}], "items": {"$ref": "#/definitions/EmotionLabel"}}}, "type": "object"}, "EmotionLabel": {"required": ["label", "probability"], "properties": {"label_id": {"type": "string", "description": "Label identifier"}, "label": {"type": "string", "description": "Class label"}, "probability": {"type": "number", "description": "Predicted probability for the class label"}}, "type": "object"}}, "responses": {"ParseError": {"description": "When a mask can't be parsed"}, "MaskError": {"description": "When any error occurs on mask"}}}
